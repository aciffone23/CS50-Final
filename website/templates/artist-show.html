<section class="playlist-album-show-container" style="margin-top: 0px;">
  <div
  class="playlist-show-top-container content-spacing"
  >
    <div class="artist-show-background-img" style="background-image: url('{{ background }}');"></div>
      <div class="playlist-show-top-contents">
        <span class="playlist-word"> Artist </span>
        <span class="playlist-title">
          <h1
            class="playlist-title-text"
            style="margin: 0.08em 0px 0.12em; visibility: visible; width: 100%; font-size: 6vw"
          >
            {{ artist_name }}
          </h1>
        </span>
      </div>
    </div>
    <div class="playlist-show-bottom-container" style="height: 560px;">
      <div
        class="playlist-show-bottom-gradient"
        style="background-color: {{  hex_color  }}"
      ></div>
      <div class="play-and-like-btn-container">
        <div class="play-and-like-btn-resizer">
          <div
            class="play-and-like-btn-observer"
            style="left: 0px; right: auto"
          ></div>
        </div>
        <div
          class="play-and-like-btn-size"
          style="height: calc(100% + 1px); float: left"
        >
          <div class="play-and-like-btn-size-observer"></div>
        </div>
        <div
          class="content-glue"
          style="margin: 0; height: 88px; width: auto"
        ></div>
        <div class="play-and-like-btn-content-container-one">
          <div class="play-and-like-btn-content-container-two">
            <div
              class="play-and-like-btn-content-container-three"
              style="padding: 0px; height: auto; width: 100%"
            >
              <div class="play-and-like-btn-wrapper content-spacing">
                <div class="play-and-like-btn-row">
                  <div class="playlist-play-btn-div">
                    <button class="playlist-play-btn">
                      <span class="playlist-play-btn-span-outer">
                        <span class="playlist-play-btn-span-inner">
                          <svg class="playlist-play-btn-svg" viewBox="0 0 24 24">
                            <path
                              d="m 7.05 3.606 l 13.49 7.788 a 0.7 0.7 0 0 1 0 1.212 L 7.05 20.394 A 0.7 0.7 0 0 1 6 19.788 V 4.212 a 0.7 0.7 0 0 1 1.05 -0.606 Z"
                            ></path>
                          </svg>
                        </span>
                      </span>
                    </button>
                  </div>
                  <button class="playlist-like-btn" label="Save to Your Library">
                    <span class="playlist-like-btn-span">
                      <svg class="playlist-like-btn-svg" viewBox="0 0 24 24">
                        <path
                          d="M 5.21 1.57 a 6.757 6.757 0 0 1 6.708 1.545 a 0.124 0.124 0 0 0 0.165 0 a 6.741 6.741 0 0 1 5.715 -1.78 l 0.004 0.001 a 6.802 6.802 0 0 1 5.571 5.376 v 0.003 a 6.689 6.689 0 0 1 -1.49 5.655 l -7.954 9.48 a 2.518 2.518 0 0 1 -3.857 0 L 2.12 12.37 A 6.683 6.683 0 0 1 0.627 6.714 A 6.757 6.757 0 0 1 5.21 1.57 Z m 3.12 1.803 a 4.757 4.757 0 0 0 -5.74 3.725 l -0.001 0.002 a 4.684 4.684 0 0 0 1.049 3.969 l 0.009 0.01 l 7.958 9.485 a 0.518 0.518 0 0 0 0.79 0 l 7.968 -9.495 a 4.688 4.688 0 0 0 1.049 -3.965 a 4.803 4.803 0 0 0 -3.931 -3.794 a 4.74 4.74 0 0 0 -4.023 1.256 l -0.008 0.008 a 2.123 2.123 0 0 1 -2.9 0 l -0.007 -0.007 a 4.757 4.757 0 0 0 -2.214 -1.194 Z"
                        ></path>
                      </svg>
                    </span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="popular-tracks-container">
        <div>
          <h2 class="popular-artist-tracks" style="color: #fff; margin-left: 20px;">Popular</h2>
        </div>
        <div class="playlist-show-bottom-content-wrapper">
          <div
            class="playlist-show-bottom-content"
            style="height: {{ top_tracks|length * 56 }}px;"
          >
            <div class="top-container" style="height: 1008px">
              <div
                class="top-placeholders dynamic-grid"
                style="height: calc(100% - 1008px)"
              >
                <div class="number-placeholder"></div>
                <div class="title-placeholder"></div>
                <div class="album-placeholder"></div>
                <div class="date-added-placeholder"></div>
                <div class="duration-placeholder"></div>
                <div style="height: 1008px"></div>
              </div>
              <div style="transform: translateY(0px)">
                {% for track in top_tracks %}
                  {% include "track-component.html" %}
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <section class="fans-also-like-container" style="margin-top: 160px;">
      <div class="recommended-songs-text-container">
        <span class="recommended-text">Fans also like</span>
      </div>
      <div class="album-show-album-container" style="grid-gap: 18px; min-width: 372px;">
        {% for artist in similar_artists %}
        <div class="playlist-wrapper">
            <div class="home-playlist-container">
                    <div class="top-img-div">
                        <div class="img-container">
                            <div>
                                <img class="top-img" src="{{ artist.background }}" style="border-radius: 50%;">
                            </div>
                        </div>
                        <div class="play-button-container">
                            <div class="play-button-wrapper">
                                <button class="play-button-btn">
                                    <span class="play-btn-span-wrapper">
                                        <span class="play-btn-span">
                                            <svg class="play-btn-svg" viewBox="0 0 24 24">
                                                <path d="m 7.05 3.606 l 13.49 7.788 a 0.7 0.7 0 0 1 0 1.212 L 7.05 20.394 A 0.7 0.7 0 0 1 6 19.788 V 4.212 a 0.7 0.7 0 0 1 1.05 -0.606 Z"></path>
                                            </svg>
                                        </span>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="img-bottom-container">
                        <div class="home-album-text">{{ artist.name }}</div>
                        <div class="home-album-description">Artist</div>
                    </div>
                    <div class="pointer-container" onclick="redirectToArtist('{{ artist.id }}')"></div>

                    <script>
                      function redirectToArtist(artist) {
                        window.location.href = `/artist/${artist.id}`;
                      }
                    </script>
                    </div>
        </div>
        {% endfor %}
    </div>
    <script>
        window.addEventListener('resize', updateColumnCount);
    
        function updateColumnCount() {
            const container = document.querySelector('.album-show-album-container');
            const itemWidth = 200;
            const gap = 18;

            const availableWidth = container.offsetWidth;
            const columnCount = Math.floor((availableWidth + gap) / (itemWidth + gap));

            container.style.setProperty('--column-count', columnCount);

            const playlistWrappers = container.querySelectorAll('.playlist-wrapper');
            playlistWrappers.forEach((wrapper, index) => {
                wrapper.style.display = index < columnCount ? 'grid' : 'none';
            });
        }
    
        updateColumnCount();
    </script>
    </section>
</section>